#! /usr/bin/env ruby

lib_path = File.expand_path(File.dirname(__FILE__)) + "/../lib/"
$LOAD_PATH << lib_path unless $LOAD_PATH.include? lib_path
require 'sudoku'

host    = ARGV[0]
port    = ARGV[1]
option  = ARGV[2].to_s.downcase

Sudoku::Server.new({
  :host => (ARGV[0] || 'localhost'),
  :port => (ARGV[1] || 8080).to_i,
  :debug => (option == 'debug'),
  :echo  => (option == 'echo')
}).start!